var timeOut_preview=300;function spbdPreviewShortcode(){jQuery(document).find(".spk-loaderPrv").addClass("active");var o="[",e=jQuery("[name=spbd_custom_shortcode]").attr("preview");o+=e,jQuery(".spk-admin-slidebar").find('input[type="text"], input[type="checkbox"]:checked, input[type="radio"], input[type="number"], textarea, select,.colorPicker').each(function(e,r){var a=jQuery(this).val(),t=jQuery(this).attr("name"),c=jQuery(this).attr("data-default");if(jQuery(this).hasClass("colorPicker"))c=jQuery(this).attr("data-default-color");if(""!=c&&void 0!==c){jQuery(this).attr("data-empty");void 0!==a&&""!=a&&a.toLowerCase()!=c.toLowerCase()&&(o+=" "+t+'="'+a+'"')}}),o+="]",jQuery(".spbd_custom_shortcode").val(o);var r={action:"SPBD_preview_shortcode",spbd_shortcode:o};jQuery.post(ajaxurl,r,function(o){jQuery("#spbd-preview-container").html(o),jQuery(document).find(".spk-loaderPrv").removeClass("active"),"wpsbd_post_carousel"==e&&spbd_init_post_carousel()})}jQuery(document).ready(function(o){"undefined"!=typeof apperanceObj&&(apperanceObj=JSON.parse(apperanceObj)),"undefined"!=typeof sliderObj&&(sliderObj=JSON.parse(sliderObj));jQuery("[name=shrtcodesDrop]").val();o(document).on("click",".notice-dismiss",function(){o(".spk-admin-slidebar").addClass("closeBanner")}),o(document).on("click",".spk-cllps-title",function(){o(this).hasClass("active")||(o(document).find(".spk-cllps-title").removeClass("active"),o(document).find(".spk-cllps-content").hide());var e=o(this).next(".spk-cllps-content");o(this).toggleClass("active"),e.slideToggle()}),o(document).on("change","select[name=design]",function(){var e=o(this).val();if(apperanceObj&&apperanceObj.hasOwnProperty(e)){var r=apperanceObj[e];o(".block_appearance").find("input.colorPicker").each(function(){var e=o(this).attr("name");r.hasOwnProperty(e)?o(this).val(r[e]).attr("data-default-color",r[e]).closest(".spk-sidebar-block").show():o(this).val("").attr("data-default-color","").closest(".spk-sidebar-block").hide(),o(this).trigger("change")})}if(sliderObj&&sliderObj.hasOwnProperty(e)){var a=sliderObj[e];o(".block_slider").find(".spbdSlider").each(function(){var e=o(this).attr("name");a.hasOwnProperty(e)?o(this).val(a[e]).attr("data-default",a[e]).closest(".spk-sidebar-block").show():o(this).val("").attr("data-default","").closest(".spk-sidebar-block").hide(),o(this).trigger("change")})}}),o(document).find("input.colorPicker").each(function(){var e={defaultColor:!1,change:function(o,e){o.target.value=e.color.toString();o.target;var r=jQuery("[name=shrtcodesDrop]").val(),a=jQuery(".spbd_preview_frame").contents(),t=jQuery("select[name=design]").val();switch(r){case"wpsbd_post":a.find(".box-background").css("background-color",jQuery("[name=background_color]").val()),a.find(".sp-text-color").css({color:jQuery("[name=text_colorpicker]").val(),fill:jQuery("[name=text_colorpicker]").val()}),a.find(".box-hover-background").attr("onMouseOver",'this.style.background="'+jQuery("[name=background_color]").val()+'"'),a.find(".main-box-background").css("background-color",jQuery("[name=box_background_color]").val()),"card-block"==t?a.find(".categoryBlog a").css({color:jQuery("[name=category_text_colorpicker]").val(),"border-bottom":"3px solid"+jQuery("[name=category_background_color]").val()}):a.find(".categoryBlog a").css({color:jQuery("[name=category_text_colorpicker]").val(),"background-color":jQuery("[name=category_background_color]").val()}),a.find(".tagBlog a").css({color:jQuery("[name=tag_text_colorpicker]").val(),"background-color":jQuery("[name=tag_background_color]").val()}),a.find(".spbd-pagination a,.spbd-pagination span,.spbd-pagination svg").css({color:jQuery("[name=pagination_text_colorpicker]").val(),fill:jQuery("[name=pagination_text_colorpicker]").val(),background:jQuery("[name=pagination_background_color]").val()}),a.find(".spk-blogpost-btn").css({color:jQuery("[name=readmore_text_colorpicker]").val(),"border-color":jQuery("[name=readmore_text_colorpicker]").val(),"background-color":jQuery("[name=readmore_background_color]").val()}).attr("onMouseOver","this.style.background='"+jQuery("[name=hover_readmore_background_color]").val()+"';this.style.color='"+jQuery("[name=hover_readmore_text_colorpicker]").val()+"';this.style.borderColor='"+jQuery("[name=hover_readmore_text_colorpicker]").val()+"'"),a.find(".spk-blogpost-btn").attr("onMouseOut","this.style.background='"+jQuery("[name=readmore_background_color]").val()+"';this.style.color='"+jQuery("[name=readmore_text_colorpicker]").val()+"';this.style.borderColor='"+jQuery("[name=readmore_text_colorpicker]").val()+"'"),a.find(".redMoreTextColor").css({fill:jQuery("[name=readmore_text_colorpicker]").val()}),a.find(".spk-short-time span.date-color").css({color:jQuery("[name=date_text_colorpicker]").val(),"background-color":jQuery("[name=date_background_color]").val()}),a.find(".spk-short-time span.text-color").css({color:jQuery("[name=date_background_color]").val()});break;case"wpsbd_post_list":var c=jQuery("[name=background_color]").val();if("design-3"==t){if("background_color"==o.target.name){c=e.color.toCSS("rgb").replace(/\,/gi,"").replace(")"," / 50% )");a.find(".box-background").css("background-color",c)}}else a.find(".box-background").css("background-color",c);if(a.find(".box-hover-background").attr("onMouseOver",'this.style.background="'+jQuery("[name=background_color]").val()+'"'),a.find(".sp-text-color").css({color:jQuery("[name=text_colorpicker]").val(),fill:jQuery("[name=text_colorpicker]").val()}),a.find(".sp-title-color").css({color:jQuery("[name=title_colorpicker]").val()}),a.find(".comments").css({color:jQuery("[name=comments_text_color]").val(),fill:jQuery("[name=comments_text_color]").val()}),"design-1"==t){if("comments_background_color"==o.target.name){c=e.color.toCSS("rgb").replace(/\,/gi,"").replace(")"," / 30% )");a.find(".comments-background").css({"background-color":c})}}else a.find(".comments-background").css({"background-color":jQuery("[name=comments_background_color]").val()});if(a.find(".main-box-background").css("background-color",jQuery("[name=box_background_color]").val()),"design-1"==t)a.find(".categoryBlog a").css({color:jQuery("[name=category_text_colorpicker]").val(),"border-bottom":"3px solid"+jQuery("[name=category_background_color]").val()});else if("design-2"==t){if("category_background_color"==o.target.name){c=e.color.toCSS("rgb").replace(/\,/gi,"").replace(")"," / 30% )");a.find(".categoryBlog a").css({color:jQuery("[name=category_background_color]").val(),"background-color":c})}}else"design-4"==t?a.find(".categoryBlog a").css({color:jQuery("[name=category_text_colorpicker]").val()}):a.find(".categoryBlog a").css({color:jQuery("[name=category_text_colorpicker]").val(),"background-color":jQuery("[name=category_background_color]").val()});a.find(".tagBlog a").css({color:jQuery("[name=tag_text_colorpicker]").val(),"background-color":jQuery("[name=tag_background_color]").val()}),a.find(".spbd-pagination a,.spbd-pagination span,.spbd-pagination svg").css({color:jQuery("[name=pagination_text_colorpicker]").val(),fill:jQuery("[name=pagination_text_colorpicker]").val(),"border-color":jQuery("[name=pagination_text_colorpicker]").val(),background:jQuery("[name=pagination_background_color]").val()}),a.find(".spk-blogpost-btn").css({color:jQuery("[name=readmore_text_colorpicker]").val(),"border-color":jQuery("[name=readmore_text_colorpicker]").val(),"background-color":jQuery("[name=readmore_background_color]").val(),fill:jQuery("[name=readmore_text_colorpicker]").val()}).attr("onMouseOver","this.style.background='"+jQuery("[name=hover_readmore_background_color]").val()+"';this.style.color='"+jQuery("[name=hover_readmore_text_colorpicker]").val()+"';this.style.borderColor='"+jQuery("[name=hover_readmore_text_colorpicker]").val()+"';this.style.fill='"+jQuery("[name=hover_readmore_text_colorpicker]").val()+"'"),a.find(".spk-blogpost-btn").attr("onMouseOut","this.style.background='"+jQuery("[name=readmore_background_color]").val()+"';this.style.color='"+jQuery("[name=readmore_text_colorpicker]").val()+"';this.style.borderColor='"+jQuery("[name=readmore_text_colorpicker]").val()+"';this.style.fill='"+jQuery("[name=readmore_text_colorpicker]").val()+"'"),"design-3"==t?(a.find(".spk-short-time span.date-color").css({color:jQuery("[name=date_text_colorpicker]").val(),"background-color":jQuery("[name=date_background_color]").val()}),a.find(".spk-short-time span.text-color").css({color:jQuery("[name=date_text_colorpicker]").val()})):(a.find(".spk-short-time span.date-color").css({color:jQuery("[name=date_text_colorpicker]").val(),"background-color":jQuery("[name=date_background_color]").val()}),a.find(".spk-short-time span.text-color").css({color:jQuery("[name=date_background_color]").val()}));break;case"wpsbd_post_carousel":c=jQuery("[name=box_background_color]").val();a.find(".main-box-background").css("background-color",c),a.find(".box-background").css("background-color",jQuery("[name=background_color]").val()),a.find(".box-hover-background").attr("onMouseOver",'this.style.background="'+jQuery("[name=background_color]").val()+'"'),a.find(".spk-blogpost-i1nfo").css({color:jQuery("[name=text_colorpicker]").val(),"border-top":"1px solid"+jQuery("[name=text_colorpicker]").val(),fill:jQuery("[name=text_colorpicker]").val()}),a.find(".sp-text-color").css({color:jQuery("[name=text_colorpicker]").val(),fill:jQuery("[name=text_colorpicker]").val()}),a.find(".sp-title-color").css({color:jQuery("[name=title_colorpicker]").val()}),a.find(".spk-ctg-tag a").css({color:jQuery("[name=category_text_colorpicker]").val(),"background-color":jQuery("[name=category_background_color]").val()}),a.find(".spk-ctg-t2ag a").css({color:jQuery("[name=category_text_colorpicker]").val(),"background-color":jQuery("[name=category_background_color]").val()}),a.find(".spbd-pagination a,.spbd-pagination span,.spbd-pagination svg").css({color:jQuery("[name=pagination_text_colorpicker]").val(),fill:jQuery("[name=pagination_text_colorpicker]").val(),"border-color":jQuery("[name=pagination_text_colorpicker]").val(),background:jQuery("[name=pagination_background_color]").val()}),a.find(".spk-blogpost-btn").css({color:jQuery("[name=readmore_text_colorpicker]").val(),"border-color":jQuery("[name=readmore_text_colorpicker]").val(),"background-color":jQuery("[name=readmore_background_color]").val()}).attr("onMouseOver","this.style.background='"+jQuery("[name=hover_readmore_background_color]").val()+"';this.style.color='"+jQuery("[name=hover_readmore_text_colorpicker]").val()+"';this.style.borderColor='"+jQuery("[name=hover_readmore_background_color]").val()+"'"),a.find(".spk-blogpost-btn").attr("onMouseOut","this.style.background='"+jQuery("[name=readmore_background_color]").val()+"';this.style.color='"+jQuery("[name=readmore_text_colorpicker]").val()+"';this.style.borderColor='"+jQuery("[name=readmore_text_colorpicker]").val()+"'"),a.find(".spk-short-time span.date-color").css({color:jQuery("[name=date_text_colorpicker]").val(),"background-color":jQuery("[name=date_background_color]").val()}),a.find(".spk-short-time span.text-color").css({color:jQuery("[name=date_background_color]").val()})}spbdPreviewShortcode()},clear:function(){},hide:!0,palettes:!0};o(this).wpColorPicker(e)}),o(document).on("change",'.spk-option-field select, .spk-option-field input[type="number"]',function(){field_timeout=o(this).attr("data-timeout"),timeOut="undefined"!=typeof field_timeout?field_timeout:timeOut_preview,spbdPreviewShortcode()}),o(document).on("keyup change",'input[name="read_more_text"]',function(){field_timeout=o(this).attr("data-timeout"),timeOut="undefined"!=typeof field_timeout?field_timeout:timeOut_preview,spbdPreviewShortcode()}),o(document).on("change","[name=shrtcodesDrop]",function(){redirect=o(this).find(":selected").attr("data-url"),"undefined"!=typeof redirect&&""!=redirect&&(window.location=redirect)}),spbd_init_post_carousel()});